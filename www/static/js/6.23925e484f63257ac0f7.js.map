{"version":3,"sources":["webpack:///src/pages/category/componets/add.vue","webpack:///./src/pages/category/componets/add.vue?0d3f","webpack:///./src/pages/category/componets/add.vue","webpack:///src/pages/category/componets/list.vue","webpack:///./src/pages/category/componets/list.vue?546a","webpack:///./src/pages/category/componets/list.vue","webpack:///src/pages/category/category.vue","webpack:///./src/pages/category/category.vue?63b8","webpack:///./src/pages/category/category.vue"],"names":["add","props","computed","extends_default","Object","vuex_esm","list","data","imageUrl","form","pid","catename","img","status","formLabelWidth","methods","requestCateList","cancel","this","info","show","changeImg","e","console","log","size","utils_alert","extName","name","slice","lastIndexOf","some","item","file","raw","URL","createObjectURL","changeImg1","target","files","confirm","_this","request","then","res","code","msg","$router","push","getDetail","id","_this2","$preImg","update","_this3","mounted","componets_add","render","_vm","_h","$createElement","_c","_self","attrs","title","visible","on","update:visible","$event","$set","model","label","label-width","value","callback","$$v","expression","disabled","_v","_l","key","staticClass","src","alt","_e","type","change","active-color","inactive-color","active-value","inactive-value","slot","click","staticRenderFns","category_componets_add","__webpack_require__","normalizeComponent","ssrContext","edit","$emit","del","$confirm","confirmButtonText","cancelButtonText","catch","$message","message","componets_list","staticStyle","width","margin-bottom","row-key","border","tree-props","children","prop","scopedSlots","_u","fn","scope","row","category","isAdd","$refs","components","vAdd","vList","list_normalizeComponent","category_category","ref","category_Component","category_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/6.23925e484f63257ac0f7.js","sourcesContent":["<template>\n  <div>\n    <el-dialog :title=\"info.title\" :visible.sync=\"info.show\">\n  <el-form :model=\"form\">\n    <el-form-item label=\"上级分类\" :label-width=\"formLabelWidth\">\n      <el-select v-model=\"form.pid\">\n        <el-option label=\"--请选择--\" value=\"\" disabled></el-option>\n        <el-option label=\"顶级分类\" :value=\"0\"></el-option>\n        <!-- 动态数据获取 -->\n        <el-option v-for=\"item in list\" :key=\"item.id\" :label=\"item.catename\" :value=\"item.id\"></el-option>\n      </el-select>\n    </el-form-item>\n    <el-form-item label=\"分类名称\" :label-width=\"formLabelWidth\">\n      <el-input v-model=\"form.catename\"></el-input>\n    </el-form-item>\n     <el-form-item label=\"图片\" :label-width=\"formLabelWidth\">\n       <!-- elementui的文件上传  -->\n        <!-- <el-upload\n          class=\"avatar-uploader\"\n          action=\"#\"\n          :show-file-list=\"false\"\n           :on-change=\"changeImg\">\n          <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\n          <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n        </el-upload> -->\n\n        <div class=\"box-img\">\n          <h3>+</h3>\n          <img v-if=\"imageUrl\" :src=\"imageUrl\" alt=\"\">\n          <input type=\"file\" @change=\"changeImg1\">\n        </div>\n    </el-form-item>\n     <el-form-item label=\"分类状态\" :label-width=\"formLabelWidth\">\n       <el-switch\n            v-model=\"form.status\"\n            active-color=\"blue\"\n            inactive-color=\"grey\" :active-value=\"1\" :inactive-value=\"2\">\n          </el-switch>\n    </el-form-item>\n  </el-form>\n  <div slot=\"footer\" class=\"dialog-footer\">\n    <el-button @click=\"cancel\">取 消</el-button>\n    <el-button type=\"primary\" @click=\"confirm\" v-if=\"info.isAdd\">确 定</el-button>\n    <el-button type=\"primary\" @click=\"update\" v-else>修 改</el-button>\n  </div>\n</el-dialog>\n  </div>\n</template>\n\n<script>\nimport { warningAlert, successAlert } from '../../../utils/alert';\nimport {requestCateAdd,requestCateOne,requestUpdateCate} from '../../../utils/request';\nimport {mapGetters,mapActions} from 'vuex';\nexport default {\n  props:['info'],\n  computed:{\n    ...mapGetters({\n      'list':'cate/list'\n    })\n  },\n  data(){\n    return {\n      imageUrl:'',\n      form:{\n        pid:0,\n        catename:'',\n        img:'',\n        status:1,\n      },\n      formLabelWidth:'80px',\n    }\n  },\n  methods:{\n    ...mapActions({\n      'requestCateList':'cate/listActions'\n    }),\n    cancel(){\n      this.info.show = false;\n      this.form = {\n        pid:0,\n        catename:'',\n        img:'',\n        status:1,\n      },\n      this.imageUrl = ''\n    },\n    changeImg(e){\n      console.log(e);\n      // 处理文件大小\n      if(e.size > 2*1024*1024){\n        warningAlert('上传图片不能超过2M');\n        return\n      }\n\n      // 处理文件后缀\n      var ext = ['.jpg','.jpeg','.png','.gif'];\n      var extName = e.name.slice(e.name.lastIndexOf('.'))\n      if(!ext.some(item=>item==extName)){\n        warningAlert('上传文件格式不正确');\n        return\n      }\n\n      // 生成线上显示的图片\n      var file = e.raw;\n      // 做生成显示的图片\n      this.imageUrl = URL.createObjectURL(file);\n      // 将文件信息存入img\n      this.form.img = file;\n    },\n    changeImg1(e){\n      var file = e.target.files[0];\n      // 处理文件大小\n      if(file.size > 2*1024*1024){\n        warningAlert('上传图片不能超过2M');\n        return\n      }\n\n      // 处理文件后缀\n      var ext = ['.jpg','.jpeg','.png','.gif'];\n      var extName = file.name.slice(file.name.lastIndexOf('.'))\n      if(!ext.some(item=>item==extName)){\n        warningAlert('上传文件格式有误');\n        return\n      }\n\n      //显示图片\n      this.imageUrl = URL.createObjectURL(file)\n      // 将文件信心存入img\n      this.form.img = file;\n    },\n    confirm(){\n      requestCateAdd(this.form).then(res=>{\n        if(res.data.code == 200){\n          successAlert(res.data.msg)\n          this.cancel();\n          this.requestCateList()\n        }else{\n          if(res.data.code == 403){\n            warningAlert(res.data.msg)\n            this.$router.push('/login')\n          }else{\n             warningAlert(res.data.msg)\n          }\n\n        }\n      })\n    },\n    getDetail(id){\n      requestCateOne({id:id}).then(res=>{\n        if(res.data.code == 200){\n          this.form = res.data.list;\n          this.form.id = id;\n          this.imageUrl = this.$preImg+this.form.img;\n        }\n      })\n    },\n    update(){\n\n      requestUpdateCate(this.form).then(res=>{\n        if(res.data.code == 200){\n          successAlert(res.data.msg)\n          this.cancel()\n          this.requestCateList()\n        }else{\n          warningAlert(res.data.msg)\n        }\n      })\n    }\n  },\n  mounted(){\n    this.requestCateList()\n  }\n\n}\n</script>\n\n<style scoped lang=\"stylus\">\n.box-img {\n  width 150px;\n  height 150px;\n  border: 1px dashed pink;\n  position relative;\n}\n.box-img h3{\n  width:100%;\n  height 100%;\n  line-height 150px;\n  text-align center;\n}\n.box-img  img{\n  width 100%;\n  height 100%;\n  position:absolute;\n  left:0;\n  top:0\n}\n.box-img input{\n   width 100%;\n    height 100%;\n    position:absolute;\n    left:0;\n    top:0;\n    opacity 0;\n}\n\n  .avatar-uploader >>> .el-upload {\n    border: 1px dashed #d9d9d9  ;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n  .avatar-uploader .el-upload:hover {\n    border-color: #409EFF;\n  }\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 178px;\n    height: 178px;\n    line-height: 178px;\n    text-align: center;\n  }\n  .avatar {\n    width: 178px;\n    height: 178px;\n    display: block;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/category/componets/add.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"title\":_vm.info.title,\"visible\":_vm.info.show},on:{\"update:visible\":function($event){return _vm.$set(_vm.info, \"show\", $event)}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"上级分类\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{model:{value:(_vm.form.pid),callback:function ($$v) {_vm.$set(_vm.form, \"pid\", $$v)},expression:\"form.pid\"}},[_c('el-option',{attrs:{\"label\":\"--请选择--\",\"value\":\"\",\"disabled\":\"\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"顶级分类\",\"value\":0}}),_vm._v(\" \"),_vm._l((_vm.list),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.catename,\"value\":item.id}})})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"分类名称\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{model:{value:(_vm.form.catename),callback:function ($$v) {_vm.$set(_vm.form, \"catename\", $$v)},expression:\"form.catename\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"图片\",\"label-width\":_vm.formLabelWidth}},[_c('div',{staticClass:\"box-img\"},[_c('h3',[_vm._v(\"+\")]),_vm._v(\" \"),(_vm.imageUrl)?_c('img',{attrs:{\"src\":_vm.imageUrl,\"alt\":\"\"}}):_vm._e(),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"file\"},on:{\"change\":_vm.changeImg1}})])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"分类状态\",\"label-width\":_vm.formLabelWidth}},[_c('el-switch',{attrs:{\"active-color\":\"blue\",\"inactive-color\":\"grey\",\"active-value\":1,\"inactive-value\":2},model:{value:(_vm.form.status),callback:function ($$v) {_vm.$set(_vm.form, \"status\", $$v)},expression:\"form.status\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取 消\")]),_vm._v(\" \"),(_vm.info.isAdd)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirm}},[_vm._v(\"确 定\")]):_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.update}},[_vm._v(\"修 改\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4847e56c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/category/componets/add.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4847e56c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./add.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4847e56c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4847e56c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/category/componets/add.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n      <el-table\n    :data=\"list\"\n    style=\"width: 100%;margin-bottom: 20px;\"\n    row-key=\"id\"\n    border\n    :tree-props=\"{children: 'children'}\">\n    <el-table-column  prop=\"id\" label=\"分类编号\"  width=\"180\"> </el-table-column>\n    <el-table-column  prop=\"catename\" label=\"分类名称\"  width=\"180\"> </el-table-column>\n    <el-table-column  prop=\"img\" label=\"图片\"  width=\"180\">\n        <template slot-scope=\"scope\">\n          <img class=\"im\" :src=\"$preImg+scope.row.img\" alt=\"\">\n        </template>\n    </el-table-column>\n    <el-table-column label=\"状态\"  width=\"180\">\n       <template slot-scope=\"scope\">\n       <el-button type=\"primary\" v-if=\"scope.row.status == 1\">启用</el-button>\n       <el-button type=\"danger\" v-else>禁止</el-button>\n       </template>\n    </el-table-column>\n    <el-table-column label=\"操作\"  width=\"180\">\n      <template slot-scope=\"scope\">\n        <el-button type=\"primary\" @click=\"edit(scope.row.id)\">编辑</el-button>\n        <el-button type=\"danger\" @click=\"del(scope.row.id)\">删除</el-button>\n      </template>\n    </el-table-column>\n\n  </el-table>\n  </div>\n</template>\n\n<script>\nimport {mapGetters,mapActions} from  'vuex';\nimport {requestDelCate} from '../../../utils/request';\nimport {successAlert} from '../../../utils/alert';\nexport default {\n  computed:{\n    ...mapGetters({\n      'list':'cate/list'\n    })\n  },\n  methods:{\n    ...mapActions({\n      'requestCateList':'cate/listActions',\n    }),\n    edit(id){\n      this.$emit('edit',id)\n    },\n    del(id){\n         this.$confirm('确定要删除吗?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          requestDelCate({id:id}).then(res=>{\n            if(res.data.code == 200){\n              successAlert(res.data.msg);\n               this.requestCateList()\n            }\n          })\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消删除'\n          });\n        });\n\n    }\n  },\n  mounted(){\n    this.requestCateList()\n  }\n}\n</script>\n\n<style scoped>\n.im{\n  width:100px;\n  height: 100px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/category/componets/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"20px\"},attrs:{\"data\":_vm.list,\"row-key\":\"id\",\"border\":\"\",\"tree-props\":{children: 'children'}}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"分类编号\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"catename\",\"label\":\"分类名称\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"img\",\"label\":\"图片\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticClass:\"im\",attrs:{\"src\":_vm.$preImg+scope.row.img,\"alt\":\"\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status == 1)?_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"启用\")]):_c('el-button',{attrs:{\"type\":\"danger\"}},[_vm._v(\"禁止\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.edit(scope.row.id)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.del(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-413ed07a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/category/componets/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-413ed07a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-413ed07a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-413ed07a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/category/componets/list.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <el-button type=\"primary\" @click=\"add\">添加</el-button>\n    <v-add :info=\"info\" ref=\"add\"></v-add>\n    <v-list @edit=\"edit($event)\"></v-list>\n  </div>\n</template>\n\n<script>\nimport vAdd from './componets/add.vue';\nimport vList from './componets/list.vue';\nexport default {\n  data(){\n    return {\n      info:{\n        show:false,\n        title:'',\n        isAdd:true\n      }\n    }\n  },\n  methods:{\n    add(){\n      this.info.show = true;\n      this.info.title = '添加分类';\n      this.info.isAdd = true;\n    },\n    edit(id){\n      this.info.show = true;\n      this.info.title = '编辑分类';\n      this.info.isAdd = false;\n      this.$refs.add.getDetail(id)\n    }\n  },\n  components:{\n    vAdd,\n    vList\n  }\n}\n</script>\n\n<style>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/category/category.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"添加\")]),_vm._v(\" \"),_c('v-add',{ref:\"add\",attrs:{\"info\":_vm.info}}),_vm._v(\" \"),_c('v-list',{on:{\"edit\":function($event){return _vm.edit($event)}}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-055e1585\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/category/category.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-055e1585\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./category.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./category.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./category.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-055e1585\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./category.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/category/category.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}