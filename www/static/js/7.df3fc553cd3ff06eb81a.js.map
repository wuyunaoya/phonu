{"version":3,"sources":["webpack:///src/page/shopp.vue","webpack:///./src/page/shopp.vue?1de3","webpack:///./src/page/shopp.vue"],"names":["shopp","data","list","value","a","checked","result","computed","fun","_this","this","sum","forEach","item","num","price","methods","checkAll","$refs","checkboxGroup","toggleAll","onSubmit","del","id","_this2","$dialog","confirm","message","then","Object","request","requestShopp","catch","_this3","user","JSON","parse","sessionStorage","getItem","uid","mounted","page_shopp","render","_vm","_h","$createElement","_c","_self","attrs","title","left-arrow","on","click-left","$event","$router","go","_v","button-text","submit","checked-color","click","model","callback","$$v","expression","ref","staticClass","_l","index","key","scopedSlots","_u","fn","square","text","type","proxy","name","goodsname","thumb","$preImg","img","$set","image","description","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/7.df3fc553cd3ff06eb81a.js","sourcesContent":["<template>\r\n  <div>\r\n    <van-nav-bar title=\"购物车\" left-arrow @click-left=\"$router.go(-1)\" />\r\n    <van-submit-bar :price=\"fun\" button-text=\"提交订单\" @submit=\"onSubmit\">\r\n      <van-checkbox v-model=\"checked\" checked-color=\"#ee0a24\" @click=\"checkAll\"\r\n        >全选</van-checkbox\r\n      >\r\n    </van-submit-bar>\r\n    <van-checkbox-group v-model=\"result\" ref=\"checkboxGroup\">\r\n      <div class=\"card\" v-if=\"list\">\r\n        <van-swipe-cell v-for=\"(item, index) in list\" :key=\"index\">\r\n          <van-checkbox\r\n            :name=\"index\"\r\n            checked-color=\"#ee0a24\"\r\n            class=\"checkbox\"\r\n          ></van-checkbox>\r\n          <van-card\r\n            :price=\"item.price\"\r\n            :title=\"item.goodsname\"\r\n            :thumb=\"$preImg + item.img\"\r\n          >\r\n            <template #footer>\r\n              <van-stepper v-model=\"item.num\" />\r\n            </template>\r\n          </van-card>\r\n          <template #right>\r\n            <van-button\r\n              square\r\n              text=\"删除\"\r\n              type=\"danger\"\r\n              class=\"delete-button\"\r\n              @click=\"del(item.id)\"\r\n            />\r\n          </template>\r\n        </van-swipe-cell>\r\n      </div>\r\n       <van-empty v-else\r\n  class=\"custom-image\"\r\n  image=\"https://img.yzcdn.cn/vant/custom-empty-image.png\"\r\n  description=\"暂无数据\"\r\n/>\r\n    </van-checkbox-group>\r\n   \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { shoppList, shoppDel } from \"../util/request\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      list: [],\r\n      value: \"\",\r\n      a: true,\r\n      checked: false,\r\n      result: [],\r\n    };\r\n  },\r\n  computed: {\r\n    fun() {\r\n      var sum = 0;\r\n      this.result.forEach((item) => {\r\n        if (this.list[item].num) {\r\n          sum += this.list[item].num * this.list[item].price;\r\n        }\r\n      });\r\n      return sum * 100;\r\n    },\r\n  },\r\n  methods: {\r\n    checkAll() {\r\n      if (this.checked) {\r\n        this.$refs.checkboxGroup.toggleAll(true);\r\n      } else {\r\n        this.$refs.checkboxGroup.toggleAll();\r\n      }\r\n    },\r\n    onSubmit() {},\r\n    del(id) {\r\n      this.$dialog\r\n        .confirm({\r\n          message: \"确定要删除吗？\",\r\n        })\r\n        .then(() => {\r\n          shoppDel({ id: id }).then((data) => {\r\n            this.$dialog({ message: \"删除成功！\" });\r\n            this.requestShopp();\r\n          });\r\n        })\r\n        .catch(() => {\r\n          this.$dialog({ message: \"已取消删除！\" });\r\n        });\r\n    },\r\n    requestShopp() {\r\n      var user = JSON.parse(sessionStorage.getItem(\"user\"));\r\n      shoppList({ uid: user.uid }).then((data) => {\r\n        this.list = data.list;\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.requestShopp();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.card {\r\n  position: relative;\r\n  margin-bottom: 120px;\r\n}\r\n.van-card {\r\n  padding-left: 30px;\r\n}\r\n.van-submit-bar {\r\n  bottom: 50px;\r\n}\r\n.goods-card {\r\n  margin: 0;\r\n  background-color: #fff;\r\n}\r\n\r\n.delete-button {\r\n  height: 100%;\r\n}\r\n.checkbox {\r\n  position: absolute;\r\n  top: 20%;\r\n  left: 5px;\r\n  z-index: 2;\r\n}\r\n/* .van-swipe-cell{\r\n    bottom: 180px;\r\n  } */\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/page/shopp.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":\"购物车\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.go(-1)}}}),_vm._v(\" \"),_c('van-submit-bar',{attrs:{\"price\":_vm.fun,\"button-text\":\"提交订单\"},on:{\"submit\":_vm.onSubmit}},[_c('van-checkbox',{attrs:{\"checked-color\":\"#ee0a24\"},on:{\"click\":_vm.checkAll},model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}},[_vm._v(\"全选\")])],1),_vm._v(\" \"),_c('van-checkbox-group',{ref:\"checkboxGroup\",model:{value:(_vm.result),callback:function ($$v) {_vm.result=$$v},expression:\"result\"}},[(_vm.list)?_c('div',{staticClass:\"card\"},_vm._l((_vm.list),function(item,index){return _c('van-swipe-cell',{key:index,scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('van-button',{staticClass:\"delete-button\",attrs:{\"square\":\"\",\"text\":\"删除\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.del(item.id)}}})]},proxy:true}],null,true)},[_c('van-checkbox',{staticClass:\"checkbox\",attrs:{\"name\":index,\"checked-color\":\"#ee0a24\"}}),_vm._v(\" \"),_c('van-card',{attrs:{\"price\":item.price,\"title\":item.goodsname,\"thumb\":_vm.$preImg + item.img},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('van-stepper',{model:{value:(item.num),callback:function ($$v) {_vm.$set(item, \"num\", $$v)},expression:\"item.num\"}})]},proxy:true}],null,true)})],1)}),1):_c('van-empty',{staticClass:\"custom-image\",attrs:{\"image\":\"https://img.yzcdn.cn/vant/custom-empty-image.png\",\"description\":\"暂无数据\"}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-12e7d35a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/shopp.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-12e7d35a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./shopp.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./shopp.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./shopp.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-12e7d35a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./shopp.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-12e7d35a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/shopp.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}